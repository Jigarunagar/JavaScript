<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Dmart Signup</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='./login signup.css'>
    <link rel="shortcut icon" href="./imagelogo/DMART.NS-6f885d00.12.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <header>
        <img src="./imagelogo/images-removebg-preview.png" alt="">
        <nav class="navigation">
            <a href="./index.html">home</a>
            <a href="#">About</a>
            <a href="#">Services</a>
            <a href="#">Contact</a>
        </nav>
    </header>
    <div class="wrappersignup">
        <div class="form-box register">
            <h2>Registration</h2>
            <form id="signup">
                <div class="input-boxa">
                    <span class="icon"><i class="fa-solid fa-user"></i></span>
                    <input type="text" id="name" required>
                    <label>Username</label>
                </div>
                <div class="input-boxa">
                    <span class="icon"><i class="fa-solid fa-envelope"></i></span>
                    <input type="email" id="email" required>
                    <label>Email</label>
                </div>
                <div class="input-boxa">
                    <span class="icon"><i class="fa-solid fa-lock"></i></span>
                    <input type="password" id="password" required>
                    <label>password</label>
                </div>
                <div class="remember-forgot">
                    <label><input type="checkbox">I agree to the conditions</label>
                </div>
                <button type="submit" class="btn"><b>Registration</b></button>
                <div class="login-register">
                    <p>Already have an account?
                        <a href="./login.html" class="login-link">Login</a>
                    </p>
                </div>
            </form>
        </div>
    </div>
    <script>
        let users = JSON.parse(localStorage.getItem("users")) || [];

        const isExists = (email) => {
            let isUser = users.find((user) => user.email === email);
            if (isUser) {
                return true;
            } else {
                return false;
            }
        };
        const handleSubmit = (e) => {
            e.preventDefault();
            let user = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                password: document.getElementById("password").value,
            };
            if (isExists(user.email)) {
                alert("Already Exists");
                return;
            } else {
                users.push(user);
                localStorage.setItem("users", JSON.stringify(users));
                alert("Created Successfully");
                window.location.href = "index.html"
                document.getElementById("signup").reset();
            }
        };
        document.getElementById("signup").addEventListener("submit", handleSubmit);
    </script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

</html>